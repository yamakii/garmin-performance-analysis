# è¨ˆç”»: BALANCED Sample Report Reproduction

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: `balanced_sample_reproduction`
- **ä½œæˆæ—¥**: `2025-10-25`
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨ˆç”»ä¸­
- **ç›®çš„**: 3ã¤ã®BALANCEDã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆï¼ˆBase/Interval/Thresholdï¼‰ã®å½¢å¼ã‚’å¯èƒ½ãªé™ã‚Šå¿ å®Ÿã«å†ç¾ã™ã‚‹

## âš ï¸ é‡è¦: æ­£ã—ã„ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹

**ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¿…ãšå‚ç…§ã™ã‚‹ã“ã¨:**
1. **Base run ã‚µãƒ³ãƒ—ãƒ«**: `docs/project/2025-10-25_balanced_sample_reproduction/samples/2025-10-08_20625808856_SAMPLE_BALANCED.md`
2. **Interval ã‚µãƒ³ãƒ—ãƒ«**: `docs/project/2025-10-25_balanced_sample_reproduction/samples/2025-10-15_interval_SAMPLE_BALANCED.md`
3. **Threshold ã‚µãƒ³ãƒ—ãƒ«**: `docs/project/2025-10-25_balanced_sample_reproduction/samples/2025-10-24_threshold_SAMPLE_BALANCED.md`

**æ³¨æ„**:
- ã“ã‚Œã‚‰ã¯worktreeãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆgarmin-balanced_sample_reproduction/ï¼‰ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹
- samples/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç”¨ï¼ˆresult/ é…ä¸‹ã¨æ··åŒã—ãªã„ï¼‰
- _SAMPLE_BALANCED.md ãŒãƒ•ã‚¡ã‚¤ãƒ«åã«å«ã¾ã‚Œã‚‹

## ğŸ“Š å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

**Phase 3æ¤œè¨¼ç”¨ã®å®Ÿã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£:**
1. **Base run**: `20625808856` (2025-10-08)
   - Training type: `aerobic_base`
   - é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ¯”è¼ƒã®å…¨æŒ‡æ¨™ï¼ˆpace, HR, power, stride, GCT, VOï¼‰ã‚’ãƒ†ã‚¹ãƒˆ
   - reference_infoè¡¨ç¤ºç¢ºèªï¼ˆcategory=0ã®å ´åˆã®éè¡¨ç¤ºï¼‰

2. **Threshold run**: `20783281578` (2025-10-24)
   - Training type: `lactate_threshold`
   - ãƒšãƒ¼ã‚¹å¤‰å‹•ä¿‚æ•°ã®è¿½åŠ ç¢ºèª
   - reference_infoè¡¨ç¤ºï¼ˆFTPéè¡¨ç¤ºï¼‰

3. **Interval**: `20615445009` (2025-10-07)
   - Training type: `interval_training`
   - Recoveryå›å¾©ç‡ã®è¿½åŠ ç¢ºèª
   - reference_infoã«FTPè¿½åŠ ç¢ºèª

## è¦ä»¶å®šç¾©

### ç›®çš„
ç¾åœ¨ã®BALANCED Report V2ã‚·ã‚¹ãƒ†ãƒ ãŒã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆã¨ç•°ãªã‚‹å‡ºåŠ›ã‚’ç”Ÿæˆã—ã¦ã„ã‚‹ã€‚ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆã®å½¢å¼ãƒ»æ§‹é€ ãƒ»å†…å®¹ã‚’åˆ†æã—ã€training typeåˆ¥ã«é©åˆ‡ãªãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€ä¸€è²«æ€§ã®ã‚ã‚‹é«˜å“è³ªãªãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚’å®Ÿç¾ã™ã‚‹ã€‚

### è§£æ±ºã™ã‚‹å•é¡Œ
1. **æ§‹é€ ã®ä¸ä¸€è‡´**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åºã€ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€è©³ç´°åº¦ã®ç›¸é•
2. **å†…å®¹ã®ä¸å‡ä¸€**: Training typeé–“ã§ã®æƒ…å ±éå¤š/éå°‘
3. **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç›¸é•**: è¡¨å½¢å¼/ç®‡æ¡æ›¸ã/è‡ªç”±è¨˜è¿°ã®ä½¿ã„åˆ†ã‘ãŒä¸çµ±ä¸€
4. **Training typeå¯¾å¿œä¸è¶³**: Base/Interval/Thresholdã§ç•°ãªã‚‹ã¹ãè¡¨ç¾ãŒçµ±ä¸€ã•ã‚Œã¦ã„ã‚‹

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
1. **ãƒ™ãƒ¼ã‚¹ãƒ©ãƒ³åˆ†æ**: Zone 2-3ä¸­å¿ƒã®ä¸­å¼·åº¦èµ°ã®é©åˆ‡ãªè©•ä¾¡ã¨æ”¹å–„ææ¡ˆ
2. **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«åˆ†æ**: Work/RecoveryåŒºé–“ã®æ˜ç¢ºãªåˆ†é›¢ã¨VO2 Maxæ´»ç”¨åº¦è©•ä¾¡
3. **é–¾å€¤ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åˆ†æ**: é–¾å€¤ãƒšãƒ¼ã‚¹ç¶­æŒæ™‚é–“ã¨Zone 4æ¯”ç‡ã®é‡ç‚¹è©•ä¾¡
4. **è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: Training typeæ¤œå‡ºã‹ã‚‰é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé¸æŠã¾ã§è‡ªå‹•åŒ–

## ã‚®ãƒ£ãƒƒãƒ—åˆ†æ

### åˆ†æå¯¾è±¡ã‚µãƒ³ãƒ—ãƒ«
1. **Base run**: `result/individual/2025/10/2025-10-08_20625808856_SAMPLE_BALANCED.md`
   - Training type: `aerobic_base`
   - è·é›¢: 5.43km
   - ç‰¹å¾´: Zone 3ä¸­å¿ƒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚µãƒãƒªãƒ¼å……å®Ÿã€é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ¯”è¼ƒ

2. **Interval**: `result/individual/2025/10/2025-10-15_interval_SAMPLE_BALANCED.md`
   - Training type: `interval_training`
   - è·é›¢: 10.6km (1kmÃ—5æœ¬)
   - ç‰¹å¾´: Work/Recoveryæ˜ç¤ºã€ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼ã€VO2 Maxæ´»ç”¨åº¦

3. **Threshold**: `result/individual/2025/10/2025-10-24_threshold_SAMPLE_BALANCED.md`
   - Training type: `lactate_threshold`
   - è·é›¢: 6.13km (ãƒ¡ã‚¤ãƒ³3.35km)
   - ç‰¹å¾´: ãƒ¡ã‚¤ãƒ³åŒºé–“é‡è¦–ã€Zone 4æ™‚é–“æ¯”ç‡ã€é–¾å€¤è¶…éåº¦

### ä¸»è¦ãªå·®ç•°

ä»¥ä¸‹ã«ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆã¨ç¾åœ¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è©³ç´°ãªå·®ç•°ã‚’13ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«åˆ†ã‘ã¦è¨˜è¼‰ã—ã¾ã™ã€‚å„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ã¯ã€ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒè¨ˆç”»æ›¸ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„è¦ç´ ã¨ã€å—ã‘å…¥ã‚Œæ¡ä»¶ã‚’æ˜è¨˜ã—ã¦ã„ã¾ã™ã€‚

#### 1. åŸºæœ¬æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] é–‹å§‹æ™‚åˆ»ã®è¡¨ç¤ºï¼ˆä¾‹: `2025-10-08 20:25:05`ï¼‰
- [ ] æ‰€è¦æ™‚é–“ã®è¡¨ç¤ºå½¢å¼ï¼ˆä¾‹: `36åˆ†40ç§’ (2200ç§’)`ï¼‰
- [ ] Garmin Connectã¸ã®ãƒªãƒ³ã‚¯ï¼ˆä¾‹: `[Garmin Connectã§è¦‹ã‚‹](URL)`ï¼‰

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] é–‹å§‹æ™‚åˆ»ãŒã‚µãƒ³ãƒ—ãƒ«ã¨åŒã˜å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ‰€è¦æ™‚é–“ãŒã€ŒXXåˆ†XXç§’ (XXXXç§’)ã€å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Garmin Connectãƒªãƒ³ã‚¯ãŒæ©Ÿèƒ½ã™ã‚‹

---

#### 2. é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ¯”è¼ƒ - æ¡ä»¶èª¬æ˜ã®å…·ä½“æ€§

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] æ¯”è¼ƒæ¡ä»¶ã®å…·ä½“çš„ãªæ–‡è¨€ç”Ÿæˆ
  - Base: ã€Œéå»ã®åŒæ¡ä»¶ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆï¼ˆè·é›¢5-6kmã€ãƒšãƒ¼ã‚¹6:30-7:00/kmã€å¹³å¦ã‚³ãƒ¼ã‚¹ï¼‰ã¨ã®æ¯”è¼ƒï¼šã€
  - Interval: ã€Œéå»ã®åŒæ¡ä»¶ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆï¼ˆ1kmÃ—5æœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã€å¹³å¦ã‚³ãƒ¼ã‚¹ï¼‰ã¨ã®æ¯”è¼ƒï¼šã€
  - Threshold: ã€Œéå»ã®åŒæ¡ä»¶ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆï¼ˆè·é›¢6kmå‰å¾Œã€é–¾å€¤ãƒšãƒ¼ã‚¹ã€å¹³å¦ã‚³ãƒ¼ã‚¹ï¼‰ã¨ã®æ¯”è¼ƒï¼šã€
- [ ] Interval/Thresholdã§ã®æ³¨é‡ˆ: ã€Œ**ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒ**ã€ã®è¡¨è¨˜

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] æ¯”è¼ƒæ¡ä»¶èª¬æ˜ãŒtraining typeåˆ¥ã«é©åˆ‡ã«ç”Ÿæˆã•ã‚Œã‚‹
- [ ] ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹ä½¿ç”¨æ™‚ã¯ã€Œãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### 3. ã‚¤ãƒ³ã‚µã‚¤ãƒˆã®è¨ˆç®—ã¨è¡¨ç¤º

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] ã‚¤ãƒ³ã‚µã‚¤ãƒˆã®è¨ˆç®—å¼ã¨è¡¨ç¤º
  - Base: ã€Œãƒšãƒ¼ã‚¹+3ç§’é€Ÿã„ã®ã«ãƒ‘ãƒ¯ãƒ¼-5Wä½ä¸‹ï¼**åŠ¹ç‡ãŒ2.2%å‘ä¸Š** âœ…ã€
  - Interval: ã€ŒWorkãƒšãƒ¼ã‚¹+2ç§’é€Ÿã€ãƒ‘ãƒ¯ãƒ¼+7Wã€ã‚¹ãƒˆãƒ©ã‚¤ãƒ‰+3cmå‘ä¸Š = **é«˜å¼·åº¦ä¸‹ã§ã‚‚ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã¨ãƒ‘ãƒ¯ãƒ¼å‡ºåŠ›ã‚’æ”¹å–„** âœ…ã€
  - Threshold: ã€ŒåŒã˜ãƒšãƒ¼ã‚¹ã§å¿ƒæ‹-3bpmä½ä¸‹ = **é–¾å€¤ã§ã®åŠ¹ç‡ãŒ1.8%å‘ä¸Š** âœ…ã€
- [ ] å‚è€ƒæƒ…å ±ã®è¡¨ç¤º: ã€Œ> **å‚è€ƒ**: VO2 Max XX ml/kg/minï¼ˆè©•ä¾¡ï¼‰ã€é–¾å€¤ãƒšãƒ¼ã‚¹ X:XX/kmã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] ã‚¤ãƒ³ã‚µã‚¤ãƒˆãŒtraining typeåˆ¥ã«é©åˆ‡ã«è¨ˆç®—ãƒ»è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å‚è€ƒæƒ…å ±ï¼ˆVO2 Maxã€é–¾å€¤ãƒšãƒ¼ã‚¹ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### 4. ç·åˆæ‰€è¦‹ã®æ–‡ç« æ§‹é€ 

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] å†’é ­ã®æ¦‚è¦æ–‡ï¼ˆ1-2æ–‡ï¼‰- å…·ä½“çš„ãªæ•°å€¤ã‚’å«ã‚€ï¼ˆå¿ƒæ‹ã€ãƒšãƒ¼ã‚¹ã€ãƒ‘ãƒ¯ãƒ¼ã€å¤‰å‹•ä¿‚æ•°ãªã©ï¼‰
- [ ] ç®‡æ¡æ›¸ãæ§‹é€ :
  - ã€Œ**âœ… å„ªã‚Œã¦ã„ã‚‹ç‚¹:**ã€
  - ã€Œ**âš ï¸ æ”¹å–„å¯èƒ½ãªç‚¹:**ã€
  - å„é …ç›®å†…ã§ã®**å¤ªå­—**å¼·èª¿
- [ ] è©•ä¾¡ã®ä½ç½®: è¦‹å‡ºã—ã«ã€Œ(â˜…â˜…â˜…â˜…â˜† 4.2/5.0)ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] å†’é ­ã«æ•°å€¤ã‚’å«ã‚€æ¦‚è¦æ–‡ãŒç”Ÿæˆã•ã‚Œã‚‹
- [ ] âœ…/âš ï¸ã‚’ä½¿ã£ãŸç®‡æ¡æ›¸ãæ§‹é€ ã«ãªã‚‹
- [ ] é‡è¦ãªç®‡æ‰€ãŒ**å¤ªå­—**ã§å¼·èª¿ã•ã‚Œã‚‹

---

#### 5. Mermaidã‚°ãƒ©ãƒ•ã®å‡¡ä¾‹ã¨åˆ†æ

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] Intervalã‚°ãƒ©ãƒ•ã®å‡¡ä¾‹: ã€Œ**å‡¡ä¾‹**: é’=ãƒšãƒ¼ã‚¹ï¼ˆç§’/kmï¼‰ã€æ©™=å¿ƒæ‹ï¼ˆbpmï¼‰ã€ç·‘=ãƒ‘ãƒ¯ãƒ¼ï¼ˆWï¼‰ã€
- [ ] ã‚°ãƒ©ãƒ•ä¸‹ã®åˆ†ææ–‡ï¼ˆç®‡æ¡æ›¸ã3-4ç‚¹ï¼‰:
  - ã€Œ**åˆ†æ**:ã€
  - ä¾‹: ã€ŒWork 1-4ã¯å„ªç§€ãªä¸€è²«æ€§ï¼ˆ4:26-4:30/kmã€310-315Wï¼‰ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] Intervalã‚°ãƒ©ãƒ•ã«å‡¡ä¾‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚°ãƒ©ãƒ•ä¸‹ã«åˆ†ææ–‡ï¼ˆç®‡æ¡æ›¸ã3-4ç‚¹ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### 6. è©•ä¾¡å¯¾è±¡ã®æ˜ç¤ºï¼ˆInterval/Thresholdï¼‰

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ³¨é‡ˆ
  - Interval: ã€Œ> **è©•ä¾¡å¯¾è±¡**: Workã‚»ã‚°ãƒ¡ãƒ³ãƒˆ5æœ¬ã®ã¿ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«èµ°ã¯é«˜å¼·åº¦åŒºé–“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ï¼‰ã€
  - Threshold: ã€Œ> **è©•ä¾¡å¯¾è±¡**: ãƒ¡ã‚¤ãƒ³åŒºé–“ï¼ˆSplit 3-6ï¼‰ã®ã¿ï¼ˆé–¾å€¤èµ°ã¯é«˜å¼·åº¦åŒºé–“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ï¼‰ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] Interval/Thresholdã§è©•ä¾¡å¯¾è±¡ã®æ³¨é‡ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### 7. ã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã®ã‚¿ã‚¤ãƒ—åˆ—ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆIntervalï¼‰

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] ã‚¿ã‚¤ãƒ—åˆ—ã®è¡¨è¨˜: W-up, W1, R1, W2, R2, W3, R3, W4, R4, W5, C-down
- [ ] Workè¡Œã®å¤ªå­—å¼·èª¿: ã€Œ| 3 | **W1** | 1.00km | **4:28** | **170** | ...ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] ã‚¿ã‚¤ãƒ—åˆ—ãŒã€ŒW-up/W1/R1ã€å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Workè¡ŒãŒå¤ªå­—ã§å¼·èª¿ã•ã‚Œã‚‹

---

#### 8. ã‚¹ãƒ—ãƒªãƒƒãƒˆè©³ç´°åˆ†æå†…ã®â˜…è©•ä¾¡

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] å„ã‚¹ãƒ—ãƒªãƒƒãƒˆ/Work/Recoveryåˆ†æã®æœ«å°¾ã«â˜…è©•ä¾¡
  - ä¾‹: ã€Œ**è©•ä¾¡**: â˜…â˜…â˜…â˜…â˜… å®Œç’§ãªã‚¹ã‚¿ãƒ¼ãƒˆã€
  - ä¾‹: ã€Œ**è©•ä¾¡**: â˜…â˜…â˜…â˜†â˜† ã‚„ã‚„ä¸ååˆ†ãªå›å¾©ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] å„ã‚¹ãƒ—ãƒªãƒƒãƒˆåˆ†æã«â˜…è©•ä¾¡ã‚³ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã‚‹ï¼ˆsplit-section-analystã§ç”Ÿæˆï¼‰

---

#### 9. ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ã®è©³ç´°æ§‹é€ 

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] è¡¨ã®åˆ—æ§‹æˆ: æŒ‡æ¨™ | å®Ÿæ¸¬å€¤ | ãƒšãƒ¼ã‚¹åŸºæº–å€¤ | è£œæ­£ã‚¹ã‚³ã‚¢ | è©•ä¾¡
- [ ] è£œæ­£ã‚¹ã‚³ã‚¢ã®è¡¨è¨˜å½¢å¼: ã€Œ**-5.0%** å„ªç§€ã€ï¼ˆå¤ªå­— + è©•ä¾¡èªï¼‰
- [ ] è©•ä¾¡åˆ—ã®â˜…è¡¨ç¤º: ã€Œâ˜…â˜…â˜…â˜…â˜… 5.0ã€
- [ ] ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã®è¡¨ç¤º: ã€Œ**ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡: â˜…â˜…â˜…â˜…â˜† 4.5/5.0**ã€

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] 5åˆ—æ§‹æˆã®è¡¨ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è£œæ­£ã‚¹ã‚³ã‚¢ãŒã€Œ**X.X%** è©•ä¾¡èªã€å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å„è¡Œã«â˜…è©•ä¾¡ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

#### 10. ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã®æ§‹é€ 

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] å„ãƒ•ã‚§ãƒ¼ã‚ºã®æ§‹é€ :
  ```
  ### ãƒ•ã‚§ãƒ¼ã‚ºå (â˜…â˜…â˜…â˜…â˜† 4.0/5.0)
  **å®Ÿéš›**: ãƒ‡ãƒ¼ã‚¿

  **è©•ä¾¡**: è©•ä¾¡æ–‡

  **æ”¹å–„ç‚¹**: æ”¹å–„ææ¡ˆï¼ˆã¾ãŸã¯ã€Œãªã—ã€ï¼‰
  ```

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] å„ãƒ•ã‚§ãƒ¼ã‚ºãŒã€Œå®Ÿéš›/è©•ä¾¡/æ”¹å–„ç‚¹ã€ã®3ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã«ãªã‚‹
- [ ] è¦‹å‡ºã—ã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã‚‹

---

#### 11. æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã®å³å¯†ãªæ§‹é€ 

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Š: å„æ”¹å–„ç‚¹ã®é–“ã«ã€Œ---ã€
- [ ] å¿…é ˆã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³:
  - **ç¾çŠ¶**: ï¼ˆå…·ä½“çš„ãªãƒ‡ãƒ¼ã‚¿ï¼‰
  - **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** ï¼ˆç®‡æ¡æ›¸ãï¼‰
  - **æœŸå¾…åŠ¹æœ**: ï¼ˆ1-2æ–‡ï¼‰
- [ ] Thresholdã§ã®è¤‡åˆé …ç›®:
  - ã€Œ### 1. ãƒ¡ã‚¤ãƒ³åŒºé–“ã®è³ªå‘ä¸Šï¼ˆæŒç¶šæ™‚é–“ï¼‹Zone 4æ¯”ç‡ï¼‰ â­ é‡è¦åº¦: é«˜ã€
  - ç¾çŠ¶ã‚’è¤‡æ•°é …ç›®è¨˜è¼‰ï¼ˆç®‡æ¡æ›¸ãï¼‰

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] å„æ”¹å–„ç‚¹ãŒã€Œ---ã€ã§åŒºåˆ‡ã‚‰ã‚Œã‚‹
- [ ] å¿…é ˆã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆç¾çŠ¶/æ¨å¥¨/åŠ¹æœï¼‰ãŒå…¨ã¦å«ã¾ã‚Œã‚‹

---

#### 12. å¿ƒæ‹ã‚¾ãƒ¼ãƒ³åˆ†å¸ƒã®è¡¨ç¤ºå½¢å¼

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] å‡¡ä¾‹è¡¨ç¤º: Base: ã€Œ"Zone 1 (å›å¾©)" : 4.23ã€ï¼ˆInterval/Threshold: åŒæ§˜ï¼‰
- [ ] ãƒ‘ã‚¤ãƒãƒ£ãƒ¼ãƒˆã®ä½ç½®: ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] Zoneåã«æ—¥æœ¬èªï¼ˆå›å¾©/æœ‰é…¸ç´ /ãƒ†ãƒ³ãƒ/é–¾å€¤/æœ€å¤§ï¼‰ãŒå«ã¾ã‚Œã‚‹

---

#### 13. æŠ€è¡“çš„è©³ç´°ãƒ»ç”¨èªè§£èª¬ã®å…·ä½“çš„å†…å®¹

**ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒç¾åœ¨æœªå®šç¾©:**
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®è©³ç´°:
  ```
  ### ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
  - ã‚¹ãƒ—ãƒªãƒƒãƒˆãƒ‡ãƒ¼ã‚¿: DuckDB (splits table - power, stride_lengthå«ã‚€)
  - ãƒ•ã‚©ãƒ¼ãƒ æŒ‡æ¨™: DuckDB (form_efficiency table)
  - å¿ƒæ‹ãƒ‡ãƒ¼ã‚¿: DuckDB (hr_efficiency, heart_rate_zones tables)
  - ç’°å¢ƒãƒ‡ãƒ¼ã‚¿: DuckDB (weather table)
  - é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆ: `mcp__garmin-db__compare_similar_workouts()`
  ```
- [ ] åˆ†æãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±:
  ```
  ### åˆ†æãƒãƒ¼ã‚¸ãƒ§ãƒ³
  - ç”Ÿæˆæ—¥æ™‚: YYYY-MM-DD
  - ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v4.0 (BALANCED - æƒ…å ±æœ€é©åŒ–ç‰ˆ)
  - æ”¹å–„é …ç›®: æ§‹æˆæœ€é©åŒ–/ã‚»ã‚¯ã‚·ãƒ§ãƒ³çµ±åˆ/ã‚¢ãƒ‰ãƒã‚¤ã‚¹å½¢å¼ã¸ã®å¤‰æ›´
  ```
- [ ] ç”¨èªè§£èª¬ã®å…·ä½“çš„ãªå®šç¾©: GCTã€VOã€VRã€ãƒ‘ãƒ¯ãƒ¼ã€ã‚¹ãƒˆãƒ©ã‚¤ãƒ‰é•·ã€Zoneå®šç¾©ã€ãƒšãƒ¼ã‚¹è£œæ­£è©•ä¾¡

**å—ã‘å…¥ã‚Œæ¡ä»¶:**
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´ã™ã‚‹
- [ ] åˆ†æãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç”¨èªè§£èª¬ãŒã‚µãƒ³ãƒ—ãƒ«ã®å®šç¾©ã¨ä¸€è‡´ã™ã‚‹

---

### æ§‹é€ ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ»Agentå‡ºåŠ›ã®ã¾ã¨ã‚

**ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆå…±é€šæ§‹é€ :**
```
1. åŸºæœ¬æƒ…å ± (ç°¡æ½”ãªç®‡æ¡æ›¸ã)
2. ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚µãƒãƒªãƒ¼
   - ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼ (Tempo/Interval only)
   - é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆã¨ã®æ¯”è¼ƒ
   - å‚è€ƒå€¤ (VO2 Max, é–¾å€¤ãƒšãƒ¼ã‚¹)
3. ç·åˆè©•ä¾¡
   - ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—
   - ç·åˆæ‰€è¦‹ (â˜…â˜…â˜…â˜…â˜† X.X/5.0)
   - ãƒšãƒ¼ã‚¹ãƒ»å¿ƒæ‹æ¨ç§» (Mermaidã‚°ãƒ©ãƒ• + åˆ†æ)
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™
   - ã‚¹ãƒ—ãƒªãƒƒãƒˆæ¦‚è¦ (è¡¨å½¢å¼)
   - ãƒã‚¤ãƒ©ã‚¤ãƒˆ
   - è©³ç´°åˆ†æ (æŠ˜ã‚ŠãŸãŸã¿)
   - ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ (ãƒšãƒ¼ã‚¹è£œæ­£è©•ä¾¡)
5. ç”Ÿç†å­¦çš„æŒ‡æ¨™ã¨ã®é–¢é€£ (Tempo/Interval only)
   - VO2 Maxæ´»ç”¨åº¦
   - é–¾å€¤è¶…éåº¦
6. ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡
   - ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ— (â˜…è©•ä¾¡ä»˜ã)
   - ãƒ¡ã‚¤ãƒ³/Work (â˜…è©•ä¾¡ä»˜ã)
   - Recovery (Interval only, â˜…è©•ä¾¡ä»˜ã)
   - ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ (â˜…è©•ä¾¡ä»˜ã)
7. ç’°å¢ƒè¦å› 
   - æ°—è±¡æ¡ä»¶ãƒ»ç’°å¢ƒã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ (â˜…è©•ä¾¡ä»˜ã)
8. ğŸ’¡ æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ
   - å„ªå…ˆåº¦ãƒ»é‡è¦åº¦ä»˜ãæ§‹é€ åŒ–ææ¡ˆ
9. æŠ€è¡“çš„è©³ç´° (æŠ˜ã‚ŠãŸãŸã¿)
10. ğŸ“š ç”¨èªè§£èª¬ (æŠ˜ã‚ŠãŸãŸã¿)
```

**ç¾åœ¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå•é¡Œç‚¹:**
- âœ… åŸºæœ¬æ§‹é€ ã¯ä¸€è‡´
- âŒ ä¸Šè¨˜13ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®è©³ç´°è¦ç´ ãŒæœªå®Ÿè£…

**Agentå‡ºåŠ›å½¢å¼ã®è¦ä»¶:**

**summary-section-analyst:**
- âœ… `activity_type` åˆ¤å®šã¯å‰Šé™¤æ¸ˆã¿ï¼ˆ2025-10-25ï¼‰
- âŒ `summary` ã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„
- âŒ `recommendations` ãŒæ§‹é€ åŒ–ã•ã‚Œã¦ã„ãªã„ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§ãªã„ï¼‰

**phase-section-analyst:**
- âŒ å„ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„
- âŒ ã€Œå®Ÿéš›/è©•ä¾¡/æ”¹å–„ç‚¹ã€ã®3ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ãŒæœªæŒ‡å®š

**efficiency-section-analyst:**
- âŒ ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„
- âŒ 5åˆ—è¡¨æ§‹é€ ï¼ˆãƒšãƒ¼ã‚¹åŸºæº–å€¤ã€è£œæ­£ã‚¹ã‚³ã‚¢ã€â˜…è©•ä¾¡ï¼‰ãŒæœªå®Ÿè£…

**environment-section-analyst:**
- âŒ ç’°å¢ƒã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„

**split-section-analyst:**
- âŒ å„ã‚¹ãƒ—ãƒªãƒƒãƒˆåˆ†æã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„

## è¨­è¨ˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

#### 1. Training Type Detection & Category Mapping

**ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼:**
```
DuckDB (hr_efficiency.training_type)
    â†“
ReportGeneratorWorker.load_performance_data()
    â†“ training_type string
ReportTemplateRenderer.render_report()
    â†“ training_type_category
Jinja2 Template
    â†“ ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºåˆ¶å¾¡
Final Report
```

**Activity Type Display Mapping (è¡¨ç¤ºç”¨):**

**é‡è¦**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã®åˆ¤å®šãƒ»è¡¨ç¤ºã¯ã€LLMï¼ˆsummary-section-analystï¼‰ã§ã¯ãªãã€DuckDBã®`training_type`ã‹ã‚‰ç›´æ¥ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã€‚

```python
def get_activity_type_display(training_type: str) -> dict[str, str]:
    """
    Map training_type to Japanese display name and English subtitle.

    Args:
        training_type: DuckDB training_type value

    Returns:
        {"ja": "æ—¥æœ¬èªå", "en": "English Name", "description": "èª¬æ˜"}
    """
    mapping = {
        "recovery": {
            "ja": "ãƒªã‚«ãƒãƒªãƒ¼ãƒ©ãƒ³",
            "en": "Recovery Run",
            "description": "è»½ã„æœ‰é…¸ç´ é‹å‹•ã§ç–²åŠ´å›å¾©ã‚’ä¿ƒé€²"
        },
        "aerobic_base": {
            "ja": "æœ‰é…¸ç´ ãƒ™ãƒ¼ã‚¹èµ°",
            "en": "Aerobic Base",
            "description": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³2-3ä¸­å¿ƒã®ä¸­å¼·åº¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚æœ‰é…¸ç´ èƒ½åŠ›ã®åŸºç›¤æ§‹ç¯‰ã«æœ€é©ãªå¼·åº¦ã§ã™ã€‚"
        },
        "tempo": {
            "ja": "ãƒ†ãƒ³ãƒãƒ©ãƒ³",
            "en": "Tempo Run",
            "description": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³3-4ã®ä¸­é«˜å¼·åº¦ã€‚é–¾å€¤èµ°ã‚ˆã‚Šå°‘ã—æ¥½ãªãƒšãƒ¼ã‚¹ã§æŒä¹…åŠ›ã‚’å¼·åŒ–"
        },
        "lactate_threshold": {
            "ja": "ä¹³é…¸é–¾å€¤ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "en": "Lactate Threshold",
            "description": "3ãƒ•ã‚§ãƒ¼ã‚ºæ§‹æˆï¼ˆã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—-ãƒ¡ã‚¤ãƒ³-ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ï¼‰ã§ã€é–¾å€¤ãƒšãƒ¼ã‚¹ã‚’ç¶­æŒã™ã‚‹æŒä¹…åŠ›å¼·åŒ–ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚Zone 4ä¸­å¿ƒã§ä¹³é…¸å‡¦ç†èƒ½åŠ›ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒç›®çš„ã§ã™ã€‚"
        },
        "vo2max": {
            "ja": "VO2 Maxãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "en": "VO2 Max Training",
            "description": "æœ€å¤§é…¸ç´ æ‘‚å–é‡å‘ä¸Šã‚’ç›®çš„ã¨ã—ãŸé«˜å¼·åº¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«"
        },
        "anaerobic_capacity": {
            "ja": "ç„¡é…¸ç´ å®¹é‡ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "en": "Anaerobic Capacity",
            "description": "çŸ­æ™‚é–“é«˜å¼·åº¦ã§ç„¡é…¸ç´ èƒ½åŠ›ã‚’å¼·åŒ–"
        },
        "speed": {
            "ja": "ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "en": "Speed Training",
            "description": "çŸ­è·é›¢ã‚¹ãƒ—ãƒªãƒ³ãƒˆã§ã‚¹ãƒ”ãƒ¼ãƒ‰ã¨ãƒ‘ãƒ¯ãƒ¼ã‚’å¼·åŒ–"
        },
        "interval_training": {  # For samples compatibility
            "ja": "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "en": "Interval Training",
            "description": "1kmÃ—5æœ¬ã®Workã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’Zone 4-5ï¼ˆé–¾å€¤ã€œæœ€å¤§å¿ƒæ‹ï¼‰ã§å®Ÿæ–½ã—ã€400mã®Recoveryã§å›å¾©ã™ã‚‹é«˜å¼·åº¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚VO2 maxå‘ä¸Šã¨ã‚¹ãƒ”ãƒ¼ãƒ‰æŒä¹…åŠ›ã®å¼·åŒ–ãŒç›®çš„ã§ã™ã€‚"
        }
    }
    return mapping.get(training_type, {
        "ja": "ãã®ä»–ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
        "en": "Other Training",
        "description": "åˆ†é¡ä¸æ˜ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°"
    })
```

**Template Usage:**
```jinja2
### ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—
**{{ activity_type.ja }}** ({{ activity_type.en }})

{{ activity_type.description }}
```

**Training Type Categorization (å†…éƒ¨å‡¦ç†ç”¨):**
```python
def get_training_type_category(training_type: str) -> str:
    """
    Map training_type to template category for conditional logic.

    Returns:
        - "low_moderate": recovery, aerobic_base, aerobic_endurance
        - "tempo_threshold": tempo, lactate_threshold
        - "interval_sprint": vo2max, anaerobic_capacity, speed
    """
    interval_sprint = {"vo2max", "anaerobic_capacity", "speed"}
    tempo_threshold = {"tempo", "lactate_threshold"}

    if training_type in interval_sprint:
        return "interval_sprint"
    elif training_type in tempo_threshold:
        return "tempo_threshold"
    else:
        return "low_moderate"
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã®ä½¿ç”¨:**
```jinja2
{% set training_type_category = training_type_category|default("low_moderate") %}
{% set show_physiological = training_type_category in ["tempo_threshold", "interval_sprint"] %}
{% set is_interval = training_type_category == "interval_sprint" %}
```

#### 2. Star Rating System

**å®Ÿè£…ç®‡æ‰€:**
- **summary-section-analyst**: ç·åˆæ‰€è¦‹ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹
- **phase-section-analyst**: å„ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹
- **efficiency-section-analyst**: ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹
- **environment-section-analyst**: ç’°å¢ƒã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹

**å‡ºåŠ›å½¢å¼:**
```python
# Agent output example
{
    "summary": "...(â˜…â˜…â˜…â˜…â˜† 4.2/5.0)",
    "rating": 4.2  # Optional: for template extraction
}
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡¦ç†:**
```jinja2
{# Extract rating from summary text #}
{% set rating_match = summary.summary | regex_search(r'\(â˜…+â˜†* (\d+\.\d+)/5\.0\)') %}
{% if rating_match %}
### ç·åˆæ‰€è¦‹ ({{ rating_match.group(0) }})
{% else %}
### ç·åˆæ‰€è¦‹
{% endif %}
```

#### 3. Comparison Pace Selection Logic

**ç¾åœ¨ã®å®Ÿè£… (`_get_comparison_pace`):**
```python
def _get_comparison_pace(self, performance_data: dict) -> tuple[float, str]:
    training_type = performance_data.get("training_type", "unknown")
    structured_types = {"tempo", "lactate_threshold", "vo2max", "anaerobic_capacity", "speed"}

    if training_type in structured_types:
        run_metrics = performance_data.get("run_metrics")
        if run_metrics and run_metrics.get("avg_pace_seconds_per_km"):
            return (run_metrics["avg_pace_seconds_per_km"], "main_set")

    return (performance_data["basic_metrics"]["avg_pace_seconds_per_km"], "overall")
```

**ã‚µãƒ³ãƒ—ãƒ«æ¤œè¨¼:**
- âœ… Base run: å…¨ä½“ãƒšãƒ¼ã‚¹ä½¿ç”¨ï¼ˆæ­£ã—ã„ï¼‰
- âœ… Interval: WorkåŒºé–“ãƒšãƒ¼ã‚¹ä½¿ç”¨ï¼ˆæ­£ã—ã„ï¼‰
- âœ… Threshold: ãƒ¡ã‚¤ãƒ³åŒºé–“ãƒšãƒ¼ã‚¹ä½¿ç”¨ï¼ˆæ­£ã—ã„ï¼‰

**å•é¡Œç‚¹:**
- âŒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ `pace_source` è¡¨ç¤ºãŒãªã„
- âŒ "ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒ" ã¨ã„ã†æ³¨é‡ˆãŒãªã„

#### 4. Physiological Indicators Display

**è¡¨ç¤ºæ¡ä»¶:**
```jinja2
{% if show_physiological and vo2_max_data and lactate_threshold_data %}
### ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼

| æŒ‡æ¨™ | ç¾åœ¨å€¤ | è©•ä¾¡ |
|------|--------|------|
| **VO2 Max** | {{ vo2_max_data.precise_value }} ml/kg/min | ... |
| **VO2 Maxåˆ©ç”¨ç‡** | {{ vo2_max_utilization }}% | ... |
| **é–¾å€¤ãƒšãƒ¼ã‚¹** | {{ threshold_pace_formatted }}/km | ... |
| **FTP(ãƒ‘ãƒ¯ãƒ¼)** | {{ lactate_threshold_data.functional_threshold_power }} W | ... |
{% endif %}
```

**å¿…è¦ãªè¨ˆç®—:**
```python
# In ReportGeneratorWorker.generate_report()
if training_type_category in ["tempo_threshold", "interval_sprint"]:
    # Calculate VO2 Max utilization
    vo2_max_pace = estimate_vo2_max_pace(vo2_max_data["precise_value"])
    target_pace = run_metrics["avg_pace_seconds_per_km"]
    vo2_max_utilization = (vo2_max_pace / target_pace) * 100

    # FTP percentage
    ftp = lactate_threshold_data["functional_threshold_power"]
    work_avg_power = run_metrics.get("avg_power", 0)
    ftp_percentage = (work_avg_power / ftp) * 100 if ftp > 0 else 0
```

#### 5. Structured Recommendations Format

**Agentå‡ºåŠ›è¦ä»¶ (summary-section-analyst):**
```python
{
    "recommendations": """
ä»Šå›ã®ãƒ™ãƒ¼ã‚¹èµ°ï¼ˆæœ‰é…¸ç´ ã‚¾ãƒ¼ãƒ³ä¸­å¿ƒï¼‰ã‚’æ¬¡å›å®Ÿæ–½ã™ã‚‹éš›ã®æ”¹å–„ç‚¹ï¼š

### 1. ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ã®å°å…¥ â­ é‡è¦åº¦: é«˜
**ç¾çŠ¶**: ãªã—ï¼ˆæœ€åˆã‹ã‚‰å¿ƒæ‹145bpmã§ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰

**æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:**
- æœ€åˆã®1-1.5kmã‚’ã‚†ã£ãã‚Šé–‹å§‹ï¼ˆ7:30-8:00/kmï¼‰
- å¿ƒæ‹120-135bpmã€ãƒ‘ãƒ¯ãƒ¼180-200Wã‚’ç›®å®‰ã«
- ç­‹è‚‰ãƒ»è…±ã®æº–å‚™ã€ç‰¹ã«é«˜æ¹¿åº¦ç’°å¢ƒã§ã¯ç™ºæ±—æ©Ÿèƒ½ã®æº–å‚™ã‚‚é‡è¦

**æœŸå¾…åŠ¹æœ**: æ€ªæˆ‘ãƒªã‚¹ã‚¯ä½æ¸›ã€ãƒ¡ã‚¤ãƒ³èµ°è¡Œã§ã®åŠ¹ç‡å‘ä¸Š

---

### 2. ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã®è¿½åŠ  â­ é‡è¦åº¦: é«˜
**ç¾çŠ¶**: ãªã—ï¼ˆå¿ƒæ‹151bpmã‹ã‚‰æ€¥åœæ­¢ï¼‰
...
"""
}
```

**æ§‹é€ åŒ–ãƒ«ãƒ¼ãƒ«:**
1. è¦‹å‡ºã—ã«ç•ªå·ã¨â­é‡è¦åº¦ã‚’å«ã‚ã‚‹
2. å„æ”¹å–„ç‚¹ã‚’ `---` ã§åŒºåˆ‡ã‚‹
3. å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³: **ç¾çŠ¶**, **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**, **æœŸå¾…åŠ¹æœ**

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ

#### 1. Agent Output Schema Updates

**summary-section-analyst:**
```python
{
    "summary": str,              # â˜…è©•ä¾¡å«ã‚€
    "key_strengths": list[str],  # ç®‡æ¡æ›¸ã
    "improvement_areas": list[str],
    "recommendations": str       # æ§‹é€ åŒ–ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³
}
```

**phase-section-analyst:**
```python
{
    "warmup_evaluation": str,    # â˜…è©•ä¾¡å«ã‚€
    "run_evaluation": str,       # â˜…è©•ä¾¡å«ã‚€ (or main_evaluation)
    "recovery_evaluation": str,  # â˜…è©•ä¾¡å«ã‚€ (interval only)
    "cooldown_evaluation": str   # â˜…è©•ä¾¡å«ã‚€ (or finish_evaluation)
}
```

**efficiency-section-analyst:**
```python
{
    "efficiency": str,           # â˜…è©•ä¾¡å«ã‚€
    "pace_corrected_table": str  # è¡¨å½¢å¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
}
```

**environment-section-analyst:**
```python
{
    "environmental": str         # â˜…è©•ä¾¡å«ã‚€
}
```

#### 2. Template Context Enhancements

**æ–°è¦è¿½åŠ é …ç›®:**
```python
context = {
    # ... existing ...

    # Training type category
    "training_type_category": str,  # "low_moderate" | "tempo_threshold" | "interval_sprint"

    # Physiological indicators (tempo/interval only)
    "vo2_max_utilization": float,
    "vo2_max_utilization_eval": str,
    "threshold_pace_formatted": str,
    "threshold_pace_comparison": str,
    "ftp_percentage": float,
    "work_avg_power": float,

    # Star ratings extracted from agent text
    "summary_rating_stars": str,    # "â˜…â˜…â˜…â˜…â˜†"
    "summary_rating_score": float,  # 4.2
    "warmup_rating_stars": str,
    "warmup_rating_score": float,
    "main_rating_stars": str,
    "main_rating_score": float,
    "recovery_rating_stars": str,
    "recovery_rating_score": float,
    "cooldown_rating_stars": str,
    "cooldown_rating_score": float,
    "form_efficiency_rating_stars": str,
    "form_efficiency_rating_score": float,
    "environment_rating_stars": str,
    "environment_rating_score": float,

    # Interval-specific
    "interval_graph_analysis": str,  # Mermaidã‚°ãƒ©ãƒ•ä¸‹ã®åˆ†ææ–‡
    "target_segments_description": str,  # "Workã‚»ã‚°ãƒ¡ãƒ³ãƒˆ5æœ¬ã®ã¿"
}
```

### API/ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ

#### 1. ReportGeneratorWorker Enhancements

**æ–°è¦ãƒ¡ã‚½ãƒƒãƒ‰:**
```python
def _get_training_type_category(self, training_type: str) -> str:
    """Map training_type to template category."""
    pass

def _calculate_physiological_indicators(
    self,
    training_type_category: str,
    vo2_max_data: dict,
    lactate_threshold_data: dict,
    run_metrics: dict
) -> dict:
    """Calculate VO2 Max utilization, FTP%, etc."""
    pass

def _extract_star_rating(self, text: str) -> tuple[str, float] | None:
    """Extract star rating from agent text using regex."""
    # Pattern: (â˜…â˜…â˜…â˜…â˜† 4.2/5.0)
    pass

def _generate_interval_graph_analysis(
    self,
    splits: list[dict],
    run_metrics: dict,
    recovery_metrics: dict
) -> str:
    """Generate Work/Recovery analysis text for interval reports."""
    pass
```

#### 2. Agent Prompt Updates

**summary-section-analyst.md:**
```markdown
## å‡ºåŠ›å½¢å¼

**section_type**: `"summary"`

### ç·åˆæ‰€è¦‹ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹ã“ã¨

å¿…ãšä»¥ä¸‹ã®å½¢å¼ã§â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹:

```python
{
    "summary": """
ä»Šæ—¥ã®ãƒ©ãƒ³ã¯è³ªã®é«˜ã„æœ‰é…¸ç´ ãƒ™ãƒ¼ã‚¹èµ°ã§ã—ãŸã€‚...(â˜…â˜…â˜…â˜…â˜† 4.2/5.0)
""",
    "key_strengths": [...],
    "improvement_areas": [...],
    "recommendations": """
### 1. ã‚¿ã‚¤ãƒˆãƒ« â­ é‡è¦åº¦: é«˜
**ç¾çŠ¶**: ...
**æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:**
- ...
**æœŸå¾…åŠ¹æœ**: ...
---
### 2. ã‚¿ã‚¤ãƒˆãƒ« â­ é‡è¦åº¦: ä¸­
...
"""
}
```

### è©•ä¾¡åŸºæº–
- 5.0: å®Œç’§ï¼ˆå…¨æŒ‡æ¨™å„ªç§€ã€æ”¹å–„ç‚¹ãªã—ï¼‰
- 4.5-4.9: éå¸¸ã«è‰¯å¥½ï¼ˆä¸€éƒ¨è»½å¾®ãªæ”¹å–„ç‚¹ï¼‰
- 4.0-4.4: è‰¯å¥½ï¼ˆæ˜ç¢ºãªå¼·ã¿ã‚ã‚Šã€æ”¹å–„ä½™åœ°ã‚ã‚Šï¼‰
- 3.5-3.9: æ¨™æº–çš„ï¼ˆå¼·ã¿ã¨èª²é¡ŒãŒæ··åœ¨ï¼‰
- 3.0-3.4: è¦æ”¹å–„ï¼ˆèª²é¡ŒãŒç›®ç«‹ã¤ï¼‰
```

**phase-section-analyst.md:**
```markdown
## å‡ºåŠ›å½¢å¼

å„ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹ã“ã¨:

```python
{
    "warmup_evaluation": """
**å®Ÿéš›**: 2km @ 7:00â†’6:50/kmã€å¿ƒæ‹135â†’142bpm

**è©•ä¾¡**: æ®µéšçš„ã«ãƒšãƒ¼ã‚¹ãƒ»å¿ƒæ‹ã‚’ä¸Šæ˜‡ã•ã›ã€ç†æƒ³çš„ãªæº–å‚™ãŒã§ãã¦ã„ã¾ã™ã€‚(â˜…â˜…â˜…â˜…â˜… 5.0/5.0)

**æ”¹å–„ç‚¹**: ãªã—
""",
    "run_evaluation": "...(â˜…â˜…â˜…â˜…â˜† 4.8/5.0)",
    "cooldown_evaluation": "...(â˜…â˜…â˜…â˜†â˜† 3.5/5.0)"
}
```
```

#### 3. Template Filter/Function Additions

**æ–°è¦Jinja2ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:**
```python
@app.template_filter('extract_star_rating')
def extract_star_rating(text: str) -> dict:
    """
    Extract star rating from text.

    Returns:
        {"stars": "â˜…â˜…â˜…â˜…â˜†", "score": 4.2, "text_without_rating": "..."}
    """
    import re
    pattern = r'\(([â˜…â˜†]+) (\d+\.\d+)/5\.0\)'
    match = re.search(pattern, text)
    if match:
        return {
            "stars": match.group(1),
            "score": float(match.group(2)),
            "text_without_rating": re.sub(pattern, "", text).strip()
        }
    return {"stars": "", "score": 0.0, "text_without_rating": text}

@app.template_filter('format_intensity_type')
def format_intensity_type(intensity_type: str, index: int) -> str:
    """
    Format intensity_type for interval display.

    Args:
        intensity_type: "warmup" | "active" | "rest" | "cooldown"
        index: Split index

    Returns:
        "W-up" | "W1" | "R1" | "C-down"
    """
    if intensity_type == "warmup":
        return "W-up"
    elif intensity_type == "cooldown":
        return "C-down"
    elif intensity_type == "active":
        # Count active splits up to this index
        work_count = count_active_splits_before(index)
        return f"W{work_count}"
    elif intensity_type == "rest":
        recovery_count = count_rest_splits_before(index)
        return f"R{recovery_count}"
    return intensity_type
```

## å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: Template Structure & Star Ratings (å„ªå…ˆåº¦: æœ€é«˜)

**ç›®çš„**: ã‚µãƒ³ãƒ—ãƒ«ã¨åŒã˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã‚’å®Ÿç¾ã—ã€â˜…è©•ä¾¡ã‚’å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ 

**ã‚¿ã‚¹ã‚¯:**
1. **Activity Typeè¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…** âš ï¸ **é‡è¦å¤‰æ›´**
   - [ ] `ReportGeneratorWorker._get_activity_type_display()` å®Ÿè£…
   - [ ] training_type â†’ æ—¥æœ¬èªè¡¨ç¤ºåãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆ8ç¨®é¡ï¼‰
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ `activity_type` å¤‰æ•°è¨­å®šï¼ˆdict with ja/en/descriptionï¼‰
   - [ ] ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¡¨ç¤ºå½¢å¼ä¿®æ­£
   - [ ] âš ï¸ summary-section-analystã‹ã‚‰activity_typeåˆ¤å®šã‚’å‰Šé™¤ï¼ˆæ—¢ã«å®Œäº†ï¼‰

2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ä¿®æ­£**
   - [ ] ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼ã®é…ç½®ç¢ºèªï¼ˆTempo/Interval onlyï¼‰
   - [ ] é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ¯”è¼ƒã®æ³¨é‡ˆè¿½åŠ ï¼ˆpace_sourceè¡¨ç¤ºï¼‰
   - [ ] ç·åˆæ‰€è¦‹ã®â˜…è©•ä¾¡è¡¨ç¤º
   - [ ] ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã®â˜…è©•ä¾¡è¡¨ç¤ºï¼ˆå„ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
   - [ ] ç’°å¢ƒã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®â˜…è©•ä¾¡è¡¨ç¤º
   - [ ] ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã®â˜…è©•ä¾¡è¡¨ç¤º

3. **Agent Promptæ›´æ–° (summary-section-analyst)**
   - [ ] ç·åˆæ‰€è¦‹ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹æŒ‡ç¤ºè¿½åŠ 
   - [ ] è©•ä¾¡åŸºæº–æ˜ç¤ºï¼ˆ5æ®µéšï¼‰
   - [ ] recommendationsã®æ§‹é€ åŒ–ãƒ«ãƒ¼ãƒ«è¿½åŠ ï¼ˆâ­é‡è¦åº¦ï¼‰
   - [ ] æ”¹å–„ãƒã‚¤ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæä¾›
   - [ ] âš ï¸ activity_typeåˆ¤å®šã®å‰Šé™¤ã‚’ç¢ºèªï¼ˆæ—¢ã«å®Œäº†ï¼‰

4. **Agent Promptæ›´æ–° (phase-section-analyst)**
   - [ ] å„ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã«â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹æŒ‡ç¤ºè¿½åŠ 
   - [ ] Training typeåˆ¥è©•ä¾¡åŸºæº–ã®æ˜ç¢ºåŒ–
   - [ ] ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥è©•ä¾¡åŸºæº–ï¼ˆ5æ®µéšï¼‰

5. **Agent Promptæ›´æ–° (efficiency/environment)**
   - [ ] â˜…è©•ä¾¡ã‚’å«ã‚ã‚‹æŒ‡ç¤ºè¿½åŠ 
   - [ ] è©•ä¾¡åŸºæº–æ˜ç¤º

6. **åŸºæœ¬æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®Œå…¨å®Ÿè£…** ğŸ“‹ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] é–‹å§‹æ™‚åˆ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆ`activity_start_time`ï¼‰
   - [ ] æ‰€è¦æ™‚é–“ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–¢æ•°å®Ÿè£…ï¼ˆã€ŒXXåˆ†XXç§’ (XXXXç§’)ã€å½¢å¼ï¼‰
   - [ ] Garmin Connectãƒªãƒ³ã‚¯ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®è¡¨ç¤º

7. **ã‚¤ãƒ³ã‚µã‚¤ãƒˆè¨ˆç®—ãƒ»ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯** ğŸ’¡ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] Training typeåˆ¥ã‚¤ãƒ³ã‚µã‚¤ãƒˆè¨ˆç®—é–¢æ•°
   - [ ] åŠ¹ç‡å‘ä¸Šç‡è¨ˆç®—ï¼ˆãƒšãƒ¼ã‚¹/ãƒ‘ãƒ¯ãƒ¼æ¯”è¼ƒï¼‰
   - [ ] å‚è€ƒæƒ…å ±å–å¾—ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆVO2 Maxã€é–¾å€¤ãƒšãƒ¼ã‚¹ï¼‰
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆè¡¨ç¤º

8. **ç·åˆæ‰€è¦‹ã®æ–‡ç« æ§‹é€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** ğŸ“ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] summary-section-analystã«æ–‡ç« æ§‹é€ æŒ‡ç¤ºè¿½åŠ :
     - å†’é ­æ¦‚è¦æ–‡ï¼ˆæ•°å€¤å«ã‚€ï¼‰
     - âœ…å„ªã‚Œã¦ã„ã‚‹ç‚¹ï¼ˆç®‡æ¡æ›¸ãã€å¤ªå­—å¼·èª¿ï¼‰
     - âš ï¸æ”¹å–„å¯èƒ½ãªç‚¹ï¼ˆç®‡æ¡æ›¸ãï¼‰
   - [ ] ã‚µãƒ³ãƒ—ãƒ«ã‚’å‚è€ƒã«å…·ä½“çš„ãªæ§‹é€ ä¾‹ã‚’æç¤º

**ãƒ†ã‚¹ãƒˆ:**
- [ ] Base run: ç·åˆæ‰€è¦‹â˜…4.2ã€ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡â˜…è¡¨ç¤ºç¢ºèª
- [ ] Interval: ç·åˆæ‰€è¦‹â˜…4.8ã€Work/Recovery/Cooldownè©•ä¾¡ç¢ºèª
- [ ] Threshold: ç·åˆæ‰€è¦‹â˜…4.3ã€ãƒ¡ã‚¤ãƒ³åŒºé–“è©•ä¾¡é‡è¦–ç¢ºèª

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- å…¨ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã§â˜…è©•ä¾¡ãŒé©åˆ‡ã«è¡¨ç¤ºã•ã‚Œã‚‹
- æ”¹å–„ãƒã‚¤ãƒ³ãƒˆãŒæ§‹é€ åŒ–ã•ã‚Œã‚‹ï¼ˆâ­é‡è¦åº¦ä»˜ãï¼‰
- ã‚µãƒ³ãƒ—ãƒ«ã¨åŒã˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åº

### Phase 2: Training Type-Specific Content (å„ªå…ˆåº¦: é«˜)

**ç›®çš„**: Training typeåˆ¥ã®å†…å®¹å·®ã‚’å®Ÿè£…

**ã‚¿ã‚¹ã‚¯:**
1. **Training Type Category Mapping**
   - [ ] `ReportGeneratorWorker._get_training_type_category()` å®Ÿè£…
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ `training_type_category` å¤‰æ•°è¨­å®š
   - [ ] `show_physiological`, `is_interval` ãƒ•ãƒ©ã‚°è¨­å®š

2. **Physiological Indicators Calculation**
   - [ ] VO2 Max utilizationè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
   - [ ] FTP percentageè¨ˆç®—
   - [ ] Threshold pace comparison textç”Ÿæˆ
   - [ ] Work average power/HRè¨ˆç®—ï¼ˆInterval/Thresholdç”¨ï¼‰

3. **Comparison Pace Annotation**
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ `pace_source` è¡¨ç¤º
   - [ ] "éå»ã®åŒæ¡ä»¶ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆï¼ˆ**ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒ**ï¼‰" æ³¨é‡ˆ

4. **Interval-Specific Elements**
   - [ ] ã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã«ã‚¿ã‚¤ãƒ—åˆ—è¿½åŠ ï¼ˆW-up/W1/R1/C-downï¼‰
   - [ ] Mermaidã‚°ãƒ©ãƒ•åˆ†ææ–‡ç”Ÿæˆï¼ˆWork/Recoveryæ¨ç§»ï¼‰
   - [ ] è©•ä¾¡å¯¾è±¡æ˜ç¤ºãƒ†ã‚­ã‚¹ãƒˆï¼ˆ"Workã‚»ã‚°ãƒ¡ãƒ³ãƒˆ5æœ¬ã®ã¿"ï¼‰
   - [ ] 4ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ï¼ˆwarmup/run/recovery/cooldownï¼‰

5. **Threshold-Specific Elements**
   - [ ] è©•ä¾¡å¯¾è±¡æ˜ç¤ºï¼ˆ"ãƒ¡ã‚¤ãƒ³åŒºé–“ã®ã¿è©•ä¾¡"ï¼‰
   - [ ] ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã‚’ãƒ¡ã‚¤ãƒ³åŒºé–“ã®ã¿è¨ˆç®—
   - [ ] Zone 4æ™‚é–“æ¯”ç‡ã®è¡¨ç¤ºãƒ»è©•ä¾¡

6. **Mermaidã‚°ãƒ©ãƒ•å‡¡ä¾‹ãƒ»åˆ†æç”Ÿæˆ** ğŸ“Š **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] Intervalç”¨å‡¡ä¾‹ç”Ÿæˆï¼ˆé’=ãƒšãƒ¼ã‚¹ã€æ©™=å¿ƒæ‹ã€ç·‘=ãƒ‘ãƒ¯ãƒ¼ï¼‰
   - [ ] ã‚°ãƒ©ãƒ•åˆ†ææ–‡ç”Ÿæˆï¼ˆ3-4ç‚¹ã®ç®‡æ¡æ›¸ãï¼‰
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®è¡¨ç¤º

7. **è©•ä¾¡å¯¾è±¡æ˜ç¤ºãƒ­ã‚¸ãƒƒã‚¯** ğŸ¯ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] Training typeåˆ¥è©•ä¾¡å¯¾è±¡æ–‡ç”Ÿæˆ
   - [ ] Interval: "Workã‚»ã‚°ãƒ¡ãƒ³ãƒˆ5æœ¬ã®ã¿ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«èµ°ã¯é«˜å¼·åº¦åŒºé–“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ï¼‰"
   - [ ] Threshold: "ãƒ¡ã‚¤ãƒ³åŒºé–“ï¼ˆSplit 3-6ï¼‰ã®ã¿ï¼ˆé–¾å€¤èµ°ã¯é«˜å¼·åº¦åŒºé–“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ï¼‰"

8. **ã‚¹ãƒ—ãƒªãƒƒãƒˆã‚¿ã‚¤ãƒ—åˆ—ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** ğŸ”„ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] intensity_type â†’ è¡¨ç¤ºå½¢å¼ãƒãƒƒãƒ”ãƒ³ã‚°
     - warmup â†’ W-up
     - active â†’ W1, W2, ... (ã‚«ã‚¦ãƒ³ãƒˆä»˜ã)
     - rest â†’ R1, R2, ... (ã‚«ã‚¦ãƒ³ãƒˆä»˜ã)
     - cooldown â†’ C-down
   - [ ] Workè¡Œã®å¤ªå­—åŒ–ãƒ­ã‚¸ãƒƒã‚¯
   - [ ] `format_intensity_type` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å®Ÿè£…

**ãƒ†ã‚¹ãƒˆ:**
- [ ] Base run: ç”Ÿç†å­¦çš„ã‚µãƒãƒªãƒ¼ãªã—ã€å…¨ä½“ãƒšãƒ¼ã‚¹æ¯”è¼ƒ
- [ ] Interval: ç”Ÿç†å­¦çš„ã‚µãƒãƒªãƒ¼ã‚ã‚Šã€WorkåŒºé–“æ¯”è¼ƒã€4ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡
- [ ] Threshold: ç”Ÿç†å­¦çš„ã‚µãƒãƒªãƒ¼ã‚ã‚Šã€ãƒ¡ã‚¤ãƒ³åŒºé–“æ¯”è¼ƒã€Zone 4è©•ä¾¡

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- Training typeæ¤œå‡ºãŒæ­£ã—ãå‹•ä½œ
- å„typeã§é©åˆ‡ãªå†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ä¸è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒéè¡¨ç¤ºã«ãªã‚‹

### Phase 3: Data Display Formatting (å„ªå…ˆåº¦: ä¸­)

**ç›®çš„**: è¡¨å½¢å¼ãƒ»ã‚°ãƒ©ãƒ•ãƒ»è©³ç´°è¡¨ç¤ºã‚’ã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´ã•ã›ã‚‹

**ã‚¿ã‚¹ã‚¯:**
1. **ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ã®æ‹¡å¼µ**
   - [ ] ãƒšãƒ¼ã‚¹åŸºæº–å€¤åˆ—è¿½åŠ 
   - [ ] è£œæ­£ã‚¹ã‚³ã‚¢åˆ—è¿½åŠ ï¼ˆ-X.X%å½¢å¼ï¼‰
   - [ ] â˜…è©•ä¾¡åˆ—è¿½åŠ 
   - [ ] è¡¨ãƒ˜ãƒƒãƒ€ãƒ¼ã®çµ±ä¸€

2. **ã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ”¹å–„**
   - [ ] ã‚¿ã‚¤ãƒ—åˆ—ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆW-up/W1/R1å½¢å¼ï¼‰
   - [ ] WorkåŒºé–“ã®**å¤ªå­—**å¼·èª¿
   - [ ] åˆ—å¹…ãƒ»é…ç½®ã®æœ€é©åŒ–

3. **Mermaidã‚°ãƒ©ãƒ•åˆ†æã®è¿½åŠ **
   - [ ] Interval: Work/Recoveryæ¨ç§»åˆ†æ
   - [ ] Threshold: ãƒ¡ã‚¤ãƒ³åŒºé–“ã®å®‰å®šæ€§åˆ†æ
   - [ ] Base: ãƒšãƒ¼ã‚¹ãƒ»å¿ƒæ‹æ¨ç§»ã®ç°¡æ½”ãªåˆ†æ

4. **æŠ˜ã‚ŠãŸãŸã¿è©³ç´°ã®å……å®Ÿ**
   - [ ] ã‚¹ãƒ—ãƒªãƒƒãƒˆè©³ç´°åˆ†æã®å¼·åŒ–
   - [ ] æŠ€è¡“çš„è©³ç´°ã®æ‹¡å……
   - [ ] ç”¨èªè§£èª¬ã®Training typeåˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

5. **ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ã®å®Œå…¨å®Ÿè£…** ğŸ“Š **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] 5åˆ—æ§‹æˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆæŒ‡æ¨™ | å®Ÿæ¸¬å€¤ | ãƒšãƒ¼ã‚¹åŸºæº–å€¤ | è£œæ­£ã‚¹ã‚³ã‚¢ | è©•ä¾¡ï¼‰
   - [ ] è£œæ­£ã‚¹ã‚³ã‚¢ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆã€Œ**X.X%** è©•ä¾¡èªã€ï¼‰
   - [ ] â˜…è©•ä¾¡åˆ—ã®è¿½åŠ 
   - [ ] ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ã®è¨ˆç®—ãƒ»è¡¨ç¤ºï¼ˆã€Œ**ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡: â˜…â˜…â˜…â˜…â˜† 4.5/5.0**ã€ï¼‰

6. **ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã®æ§‹é€ åŒ–** ğŸ¯ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] phase-section-analystã«æ§‹é€ æŒ‡ç¤ºè¿½åŠ :
     - å®Ÿéš›/è©•ä¾¡/æ”¹å–„ç‚¹ã®3ã‚»ã‚¯ã‚·ãƒ§ãƒ³
     - è¦‹å‡ºã—ã«â˜…è©•ä¾¡
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®è§£æãƒ»è¡¨ç¤º

7. **æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã®å³å¯†ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** ğŸ“ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] summary-section-analystã«è©³ç´°æŒ‡ç¤ºè¿½åŠ :
     - ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šï¼ˆ---ï¼‰
     - å¿…é ˆã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆç¾çŠ¶/æ¨å¥¨/åŠ¹æœï¼‰
     - è¤‡åˆé …ç›®ã®æ›¸ãæ–¹ï¼ˆThresholdç”¨ï¼‰
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®æ¤œè¨¼

**ãƒ†ã‚¹ãƒˆ:**
- [ ] ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´
- [ ] ã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã®å¯èª­æ€§å‘ä¸Š
- [ ] ã‚°ãƒ©ãƒ•åˆ†æãŒæœ‰ç›Š

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- è¡¨å½¢å¼ãŒã‚µãƒ³ãƒ—ãƒ«ã¨è¦–è¦šçš„ã«ä¸€è‡´
- ã‚°ãƒ©ãƒ•åˆ†æãŒçš„ç¢º
- æŠ˜ã‚ŠãŸãŸã¿è¦ç´ ãŒé©åˆ‡ã«æ©Ÿèƒ½

### Phase 4: Agent Output Quality Improvement (å„ªå…ˆåº¦: ä¸­)

**ç›®çš„**: Agentå‡ºåŠ›ã®è³ªã‚’å‘ä¸Šã•ã›ã€ã‚µãƒ³ãƒ—ãƒ«ã®æ–‡ç« å“è³ªã«è¿‘ã¥ã‘ã‚‹

**ã‚¿ã‚¹ã‚¯:**
1. **summary-section-analystå¼·åŒ–**
   - [ ] ç·åˆæ‰€è¦‹ã®æ–‡ç« æ§‹é€ æ”¹å–„ï¼ˆå°å…¥â†’è©³ç´°â†’ã¾ã¨ã‚ï¼‰
   - [ ] å„ªã‚Œã¦ã„ã‚‹ç‚¹ã®å…·ä½“æ€§å‘ä¸Šï¼ˆæ•°å€¤å¼•ç”¨ï¼‰
   - [ ] æ”¹å–„å¯èƒ½ãªç‚¹ã®å»ºè¨­çš„è¡¨ç¾
   - [ ] recommendationsæ§‹é€ åŒ–ã®å¾¹åº•

2. **phase-section-analystå¼·åŒ–**
   - [ ] Training typeåˆ¥è©•ä¾¡åŸºæº–ã®é©ç”¨å¾¹åº•
   - [ ] ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã®å…·ä½“çš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
   - [ ] æ¬¡å›ã¸ã®æ”¹å–„ææ¡ˆã®è¿½åŠ 

3. **split-section-analystå¼·åŒ–**
   - [ ] ãƒã‚¤ãƒ©ã‚¤ãƒˆã®é¸å®šåŸºæº–æ˜ç¢ºåŒ–
   - [ ] è©³ç´°åˆ†æã®æ·±åº¦å‘ä¸Š
   - [ ] åŒºé–“æ¯”è¼ƒã®æœ‰ç›Šæ€§å‘ä¸Š

4. **efficiency-section-analystå¼·åŒ–**
   - [ ] ãƒšãƒ¼ã‚¹è£œæ­£è©•ä¾¡ã®èª¬æ˜æ”¹å–„
   - [ ] Training typeåˆ¥ãƒ•ã‚©ãƒ¼ãƒ è©•ä¾¡åŸºæº–
   - [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒˆãƒ¬ãƒ³ãƒ‰ã®åˆ†æ

5. **Splitè©³ç´°åˆ†æã®â˜…è©•ä¾¡** â­ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] split-section-analystã«â˜…è©•ä¾¡æŒ‡ç¤ºè¿½åŠ 
   - [ ] å„ã‚¹ãƒ—ãƒªãƒƒãƒˆåˆ†ææœ«å°¾ã«ã€Œ**è©•ä¾¡**: â˜…â˜…â˜…â˜…â˜† ã‚³ãƒ¡ãƒ³ãƒˆã€

6. **å¿ƒæ‹ã‚¾ãƒ¼ãƒ³å‡¡ä¾‹ã®æ—¥æœ¬èªåŒ–** ğŸŒ **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] Zoneåãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆ1â†’å›å¾©ã€2â†’æœ‰é…¸ç´ ã€3â†’ãƒ†ãƒ³ãƒã€4â†’é–¾å€¤ã€5â†’æœ€å¤§ï¼‰
   - [ ] ãƒ‘ã‚¤ãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆæ™‚ã«é©ç”¨

7. **æŠ€è¡“çš„è©³ç´°ãƒ»ç”¨èªè§£èª¬ã®å†…å®¹å®šç¾©** ğŸ“š **ã‚®ãƒ£ãƒƒãƒ—åˆ†æã‚ˆã‚Šè¿½åŠ **
   - [ ] ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
   - [ ] åˆ†æãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®è‡ªå‹•ç”Ÿæˆ
   - [ ] ç”¨èªè§£èª¬ã®å®šç¾©ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«è¿½åŠ 

**ãƒ†ã‚¹ãƒˆ:**
- [ ] 3ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¿ã‚¤ãƒ—ã§æ–‡ç« å“è³ªã‚’æ¯”è¼ƒ
- [ ] å…·ä½“æ€§ãƒ»æœ‰ç›Šæ€§ãƒ»èª­ã¿ã‚„ã™ã•ã®è©•ä¾¡

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- Agentå‡ºåŠ›ãŒã‚µãƒ³ãƒ—ãƒ«ã¨åŒç­‰ã®å“è³ª
- ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªåˆ†æ
- å»ºè¨­çš„ã§å®Ÿè¡Œå¯èƒ½ãªææ¡ˆ

### Phase 5: Edge Cases & Refinement (å„ªå…ˆåº¦: ä½)

**ç›®çš„**: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹å¯¾å¿œã¨ç´°éƒ¨ã®èª¿æ•´

**ã‚¿ã‚¹ã‚¯:**
1. **ãƒ‡ãƒ¼ã‚¿æ¬ æå¯¾å¿œ**
   - [ ] VO2 Max/é–¾å€¤ãƒ‡ãƒ¼ã‚¿ãªã—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
   - [ ] é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆãªã—æ™‚ã®è¡¨ç¤º
   - [ ] ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ææ¬ è½æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

2. **Training typeæœªçŸ¥æ™‚ã®å¯¾å¿œ**
   - [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ±ºå®š
   - [ ] è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é«˜é€ŸåŒ–
   - [ ] ä¸è¦ãªãƒ‡ãƒ¼ã‚¿å–å¾—ã®å‰Šæ¸›

4. **æ—¥æœ¬èªæ–‡ç« ã®è‡ªç„¶ã•å‘ä¸Š**
   - [ ] ä½“è¨€æ­¢ã‚ã®å‰Šæ¸›
   - [ ] æ¥ç¶šè©ã®é©åˆ‡ãªä½¿ç”¨
   - [ ] æ•¬ä½“/å¸¸ä½“ã®çµ±ä¸€

**ãƒ†ã‚¹ãƒˆ:**
- [ ] ãƒ‡ãƒ¼ã‚¿æ¬ æã‚±ãƒ¼ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] æœªçŸ¥training typeã§é©åˆ‡ãªè¡¨ç¤º
- [ ] ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚é–“ãŒè¨±å®¹ç¯„å›²

**å—ã‘å…¥ã‚ŒåŸºæº–:**
- ã™ã¹ã¦ã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã§é©åˆ‡ãªè¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãªããƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãªã—

## ãƒ†ã‚¹ãƒˆè¨ˆç”»

### Unit Tests

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: `tools/reporting/report_generator_worker.py`**

1. **Training Type Category Mapping**
   ```python
   def test_get_training_type_category():
       worker = ReportGeneratorWorker()
       assert worker._get_training_type_category("aerobic_base") == "low_moderate"
       assert worker._get_training_type_category("lactate_threshold") == "tempo_threshold"
       assert worker._get_training_type_category("vo2max") == "interval_sprint"
       assert worker._get_training_type_category("unknown") == "low_moderate"
   ```

2. **Star Rating Extraction**
   ```python
   def test_extract_star_rating():
       worker = ReportGeneratorWorker()
       text = "ä»Šæ—¥ã®ãƒ©ãƒ³ã¯ç´ æ™´ã‚‰ã—ã„...(â˜…â˜…â˜…â˜…â˜† 4.2/5.0)"
       stars, score = worker._extract_star_rating(text)
       assert stars == "â˜…â˜…â˜…â˜…â˜†"
       assert score == 4.2
   ```

3. **Physiological Indicators Calculation**
   ```python
   def test_calculate_physiological_indicators():
       worker = ReportGeneratorWorker()
       result = worker._calculate_physiological_indicators(
           training_type_category="tempo_threshold",
           vo2_max_data={"precise_value": 52.3},
           lactate_threshold_data={"functional_threshold_power": 285},
           run_metrics={"avg_pace_seconds_per_km": 304, "avg_power": 342}
       )
       assert "vo2_max_utilization" in result
       assert "ftp_percentage" in result
       assert result["ftp_percentage"] == pytest.approx(120.0, rel=0.1)
   ```

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: `tools/reporting/report_template_renderer.py`**

1. **Intensity Type Formatting**
   ```python
   def test_format_intensity_type():
       assert format_intensity_type("warmup", 1) == "W-up"
       assert format_intensity_type("active", 3) == "W1"  # assuming 1st active
       assert format_intensity_type("rest", 4) == "R1"
       assert format_intensity_type("cooldown", 12) == "C-down"
   ```

### Integration Tests

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: 3ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆ**

1. **Base Run Test (Activity 20625808856)**
   ```python
   def test_base_run_report_generation():
       worker = ReportGeneratorWorker()
       result = worker.generate_report(20625808856, "2025-10-08")

       report_content = Path(result["report_path"]).read_text()

       # Structure checks
       assert "## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚µãƒãƒªãƒ¼" in report_content
       assert "### é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆã¨ã®æ¯”è¼ƒ" in report_content
       assert "ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼" not in report_content  # Should NOT appear

       # Star rating checks
       assert re.search(r'### ç·åˆæ‰€è¦‹ \(â˜…+â˜†* \d+\.\d+/5\.0\)', report_content)
       assert re.search(r'### ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ãƒ•ã‚§ãƒ¼ã‚º \(â˜…+â˜†* \d+\.\d+/5\.0\)', report_content)

       # Content checks
       assert "éå»ã®åŒæ¡ä»¶ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆ" in report_content
       assert "å…¨ä½“ãƒšãƒ¼ã‚¹" in report_content or "overall" in report_content
   ```

2. **Interval Test**
   ```python
   def test_interval_report_generation():
       # Assume we have interval data in test DB
       worker = ReportGeneratorWorker()
       result = worker.generate_report(test_interval_activity_id, test_date)

       report_content = Path(result["report_path"]).read_text()

       # Structure checks
       assert "### ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼" in report_content
       assert "VO2 Maxåˆ©ç”¨ç‡" in report_content
       assert "FTP(ãƒ‘ãƒ¯ãƒ¼)" in report_content

       # Interval-specific checks
       assert "Work" in report_content
       assert "Recovery" in report_content
       assert "W1" in report_content or "W-up" in report_content

       # Phase evaluation (4 phases)
       assert "### Workãƒ•ã‚§ãƒ¼ã‚º" in report_content
       assert "### Recoveryãƒ•ã‚§ãƒ¼ã‚º" in report_content
   ```

3. **Threshold Test**
   ```python
   def test_threshold_report_generation():
       worker = ReportGeneratorWorker()
       result = worker.generate_report(20783281578, "2025-10-24")

       report_content = Path(result["report_path"]).read_text()

       # Structure checks
       assert "### ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼" in report_content
       assert "é–¾å€¤ãƒšãƒ¼ã‚¹" in report_content

       # Threshold-specific checks
       assert "ãƒ¡ã‚¤ãƒ³åŒºé–“" in report_content
       assert "Zone 4" in report_content

       # Comparison annotation
       assert "ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒ" in report_content
   ```

### Performance Tests

1. **Report Generation Time**
   ```python
   def test_report_generation_performance():
       worker = ReportGeneratorWorker()
       start = time.time()
       worker.generate_report(20625808856, "2025-10-08")
       duration = time.time() - start

       assert duration < 5.0  # Should complete within 5 seconds
   ```

2. **Template Rendering Time**
   ```python
   def test_template_rendering_performance():
       renderer = ReportTemplateRenderer()
       context = load_test_context()

       start = time.time()
       renderer.render_report(**context)
       duration = time.time() - start

       assert duration < 1.0  # Template rendering should be fast
   ```

### Acceptance Tests

**æ¯”è¼ƒãƒ†ã‚¹ãƒˆ: ã‚µãƒ³ãƒ—ãƒ« vs ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆ**

```python
def test_sample_reproduction_similarity():
    """
    ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆãŒã‚µãƒ³ãƒ—ãƒ«ã¨ã©ã®ç¨‹åº¦ä¸€è‡´ã™ã‚‹ã‹ã‚’æ¤œè¨¼
    """
    worker = ReportGeneratorWorker()

    # Base run
    result = worker.generate_report(20625808856, "2025-10-08")
    generated = Path(result["report_path"]).read_text()
    sample = Path("result/individual/2025/10/2025-10-08_20625808856_SAMPLE_BALANCED.md").read_text()

    # Structure similarity
    assert count_sections(generated) == count_sections(sample)

    # Star rating presence
    assert count_star_ratings(generated) >= count_star_ratings(sample) * 0.8

    # Key phrases
    assert "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚µãƒãƒªãƒ¼" in generated
    assert "é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆã¨ã®æ¯”è¼ƒ" in generated
    assert "æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ" in generated

    # Training type-specific
    assert ("ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼" in generated) == ("ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼" in sample)
```

## ãƒªã‚¹ã‚¯è©•ä¾¡

### ãƒªã‚¹ã‚¯1: Agentå‡ºåŠ›å½¢å¼ã®å¤‰æ›´ã«ã‚ˆã‚‹å¾Œæ–¹äº’æ›æ€§å–ªå¤±

**é‡å¤§åº¦**: é«˜

**å½±éŸ¿ç¯„å›²:**
- æ—¢å­˜ã®section_analyses dataã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã¦ã„ãªã„
- recommendationsæ§‹é€ ãŒæ—§å½¢å¼

**ç·©å’Œç­–:**
1. **æ®µéšçš„ç§»è¡Œ**
   - æ–°å½¢å¼ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã™ã‚‹ãŒã€æ—§å½¢å¼ã‚‚ã‚µãƒãƒ¼ãƒˆ
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä¸¡å½¢å¼ã‚’å‡¦ç†å¯èƒ½ã«ã™ã‚‹

2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå´ã§ã®æŸ”è»Ÿãªå‡¦ç†**
   ```jinja2
   {# Extract star rating if present, else show plain text #}
   {% set rating = summary.summary | extract_star_rating %}
   {% if rating.score > 0 %}
   ### ç·åˆæ‰€è¦‹ ({{ rating.stars }} {{ rating.score }}/5.0)
   {{ rating.text_without_rating }}
   {% else %}
   ### ç·åˆæ‰€è¦‹
   {{ summary.summary }}
   {% endif %}
   ```

3. **æ®µéšçš„Agentæ›´æ–°**
   - Phase 1ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¯¾å¿œ
   - Phase 4ã§Agent promptæ›´æ–°
   - å¤ã„ãƒ‡ãƒ¼ã‚¿ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„

**å¯¾å¿œæœŸé™**: Phase 1å®Œäº†æ™‚

### ãƒªã‚¹ã‚¯2: Training Type Detectionå¤±æ•—

**é‡å¤§åº¦**: ä¸­

**å½±éŸ¿ç¯„å›²:**
- `hr_efficiency.training_type` ãŒ NULL ã¾ãŸã¯æœªçŸ¥ã®å€¤
- é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒé¸æŠã•ã‚Œãªã„

**ç·©å’Œç­–:**
1. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯**
   ```python
   training_type = performance_data.get("training_type", "unknown")
   if not training_type or training_type == "unknown":
       # Heuristic detection based on pace variability
       if pace_consistency < 0.05:
           training_type_category = "low_moderate"
       elif has_recovery_phase:
           training_type_category = "interval_sprint"
       else:
           training_type_category = "low_moderate"
   ```

2. **è­¦å‘Šãƒ­ã‚°**
   - Training typeæœªæ¤œå‡ºæ™‚ã«ãƒ­ã‚°å‡ºåŠ›
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ‰‹å‹•ç¢ºèªã‚’ä¿ƒã™

3. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**
   - ä¸æ˜æ™‚ã¯ `low_moderate` ã¨ã—ã¦æ‰±ã†
   - æœ€å°é™ã®æƒ…å ±ã‚’è¡¨ç¤º

**å¯¾å¿œæœŸé™**: Phase 2å®Ÿè£…æ™‚

### ãƒªã‚¹ã‚¯3: DuckDB Schemaå¤‰æ›´ã«ã‚ˆã‚‹äº’æ›æ€§å•é¡Œ

**é‡å¤§åº¦**: ä½

**å½±éŸ¿ç¯„å›²:**
- `performance_trends` ã®ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ï¼ˆrun/main, cooldown/finishï¼‰
- æ–°æ—§ãƒ‡ãƒ¼ã‚¿ã®æ··åœ¨

**ç·©å’Œç­–:**
1. **Schema Check Logic**
   - ç¾åœ¨ã®å®Ÿè£…ã¨åŒæ§˜ã€ã‚«ãƒ©ãƒ å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã‚’ç¶™ç¶š
   ```python
   schema_check = conn.execute("PRAGMA table_info('performance_trends')").fetchall()
   column_names = [row[1] for row in schema_check]
   has_new_schema = "run_avg_pace_seconds_per_km" in column_names
   ```

2. **Legacy Support**
   - æ—§ã‚¹ã‚­ãƒ¼ãƒã§ã‚‚æ­£ã—ããƒãƒƒãƒ”ãƒ³ã‚°
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä¸¡å‘½åè¦å‰‡ã‚’ã‚µãƒãƒ¼ãƒˆ

**å¯¾å¿œæœŸé™**: ç¶™ç¶šçš„ã«ç¶­æŒ

### ãƒªã‚¹ã‚¯4: Jinja2ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¤‡é›‘åŒ–

**é‡å¤§åº¦**: ä¸­

**å½±éŸ¿ç¯„å›²:**
- æ¡ä»¶åˆ†å²ã®å¢—åŠ ã«ã‚ˆã‚‹å¯èª­æ€§ä½ä¸‹
- ãƒ‡ãƒãƒƒã‚°å›°é›£
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–

**ç·©å’Œç­–:**
1. **ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®æ´»ç”¨**
   - è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã¯Pythonå´ã§å®Ÿè£…
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¤

2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã«ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ 
   - å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„ã‚’æ˜è¨˜

3. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ†å‰²**
   - å¿…è¦ã«å¿œã˜ã¦include/macroã‚’æ´»ç”¨
   ```jinja2
   {% include "sections/performance_summary.j2" %}
   {% include "sections/physiological_indicators.j2" %}
   ```

**å¯¾å¿œæœŸé™**: Phase 3å®Ÿè£…æ™‚ã«æ¤œè¨

### ãƒªã‚¹ã‚¯5: ã‚µãƒ³ãƒ—ãƒ«å†ç¾ã®å®Œå…¨æ€§æ¤œè¨¼å›°é›£

**é‡å¤§åº¦**: ä¸­

**å½±éŸ¿ç¯„å›²:**
- ã‚µãƒ³ãƒ—ãƒ«ã¨ã®å·®ç•°ã‚’å®šé‡è©•ä¾¡ã§ããªã„
- ä¸»è¦³çš„ãªåˆ¤æ–­ã«ä¾å­˜

**ç·©å’Œç­–:**
1. **æ§‹é€ æ¯”è¼ƒãƒ†ã‚¹ãƒˆ**
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã€è¦‹å‡ºã—ã€è¡¨ã®åˆ—æ•°ã‚’æ¯”è¼ƒ
   - è‡ªå‹•ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼

2. **æ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼**
   - å„ã‚µãƒ³ãƒ—ãƒ«ã‚¿ã‚¤ãƒ—ã§ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆã‚’ç›®è¦–ç¢ºèª
   - ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆä½œæˆ

3. **å·®åˆ†å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«**
   - Markdown diffãƒ„ãƒ¼ãƒ«ã§æ¯”è¼ƒ
   - æ§‹é€ ãƒ»å†…å®¹ã®å·®ç•°ã‚’å¯è¦–åŒ–

**å¯¾å¿œæœŸé™**: Phase 5ã§å®Ÿæ–½

## å—ã‘å…¥ã‚ŒåŸºæº–

### Phase 1å®Œäº†åŸºæº–ï¼ˆæ§‹é€ ã¨Star Ratingsï¼‰

**åŸºæœ¬è¦ä»¶:**
- [ ] å…¨ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã§â˜…è©•ä¾¡ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆç·åˆæ‰€è¦‹ã€å…¨ãƒ•ã‚§ãƒ¼ã‚ºã€ãƒ•ã‚©ãƒ¼ãƒ ã€ç’°å¢ƒï¼‰
- [ ] æ”¹å–„ãƒã‚¤ãƒ³ãƒˆãŒæ§‹é€ åŒ–ã•ã‚Œã‚‹ï¼ˆâ­é‡è¦åº¦ã€ç¾çŠ¶/æ¨å¥¨/æœŸå¾…åŠ¹æœï¼‰
- [ ] ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åºãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´
- [ ] Unit testsã§star rating extractionæˆåŠŸ

**ã‚®ãƒ£ãƒƒãƒ—åˆ†æé …ç›®:**
- [ ] åŸºæœ¬æƒ…å ±ã«é–‹å§‹æ™‚åˆ»ãƒ»æ‰€è¦æ™‚é–“ãƒ»Garmin Connectãƒªãƒ³ã‚¯ãŒå«ã¾ã‚Œã‚‹
- [ ] é¡ä¼¼æ¯”è¼ƒã«æ¡ä»¶èª¬æ˜ã¨ã‚¤ãƒ³ã‚µã‚¤ãƒˆãŒå«ã¾ã‚Œã‚‹
- [ ] ç·åˆæ‰€è¦‹ãŒâœ…/âš ï¸æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ï¼ˆæ•°å€¤ã‚’å«ã‚€å†’é ­æ¦‚è¦æ–‡ä»˜ãï¼‰
- [ ] æ”¹å–„ãƒã‚¤ãƒ³ãƒˆãŒ---ã§åŒºåˆ‡ã‚‰ã‚Œã€å¿…é ˆã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆç¾çŠ¶/æ¨å¥¨/åŠ¹æœï¼‰ãŒå…¨ã¦å«ã¾ã‚Œã‚‹

### Phase 2å®Œäº†åŸºæº–ï¼ˆTraining Typeåˆ¥å†…å®¹ï¼‰

**åŸºæœ¬è¦ä»¶:**
- [ ] Training type category mappingãŒæ­£ã—ãå‹•ä½œ
- [ ] Tempo/Intervalã§ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼è¡¨ç¤º
- [ ] Baseã§ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼éè¡¨ç¤º
- [ ] é¡ä¼¼ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ¯”è¼ƒã§pace_sourceæ³¨é‡ˆè¡¨ç¤º
- [ ] Intervalã§4ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡ã€Baseã§3ãƒ•ã‚§ãƒ¼ã‚ºè©•ä¾¡
- [ ] Integration testsã§3ã‚µãƒ³ãƒ—ãƒ«ã‚¿ã‚¤ãƒ—ã™ã¹ã¦æˆåŠŸ

**ã‚®ãƒ£ãƒƒãƒ—åˆ†æé …ç›®:**
- [ ] æ¯”è¼ƒæ¡ä»¶èª¬æ˜ãŒtraining typeåˆ¥ã«é©åˆ‡ã«ç”Ÿæˆã•ã‚Œã‚‹
- [ ] ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹ä½¿ç”¨æ™‚ã¯ã€Œãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¹æ¯”è¼ƒã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Intervalã‚°ãƒ©ãƒ•ã«å‡¡ä¾‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Intervalã‚°ãƒ©ãƒ•ä¸‹ã«åˆ†ææ–‡ï¼ˆç®‡æ¡æ›¸ã3-4ç‚¹ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Interval/Thresholdã§è©•ä¾¡å¯¾è±¡ã®æ³¨é‡ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã®ã‚¿ã‚¤ãƒ—åˆ—ãŒã€ŒW-up/W1/R1ã€å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] Workè¡ŒãŒå¤ªå­—ã§å¼·èª¿ã•ã‚Œã‚‹

### Phase 3å®Œäº†åŸºæº–ï¼ˆãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰

**åŸºæœ¬è¦ä»¶:**
- [ ] ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ãŒã‚µãƒ³ãƒ—ãƒ«ã¨è¦–è¦šçš„ã«ä¸€è‡´ï¼ˆåŸºæº–å€¤ã€è£œæ­£ã‚¹ã‚³ã‚¢ã€â˜…è©•ä¾¡ï¼‰
- [ ] Intervalã‚¹ãƒ—ãƒªãƒƒãƒˆè¡¨ã§ã‚¿ã‚¤ãƒ—åˆ—ãŒæ­£ã—ãè¡¨ç¤ºï¼ˆW-up/W1/R1/C-downï¼‰
- [ ] Mermaidã‚°ãƒ©ãƒ•ä¸‹ã«åˆ†ææ–‡ãŒè¡¨ç¤ºï¼ˆInterval/Thresholdï¼‰
- [ ] æŠ˜ã‚ŠãŸãŸã¿è©³ç´°ãŒå……å®Ÿ

**ã‚®ãƒ£ãƒƒãƒ—åˆ†æé …ç›®:**
- [ ] ãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡è¡¨ãŒ5åˆ—æ§‹æˆï¼ˆæŒ‡æ¨™ | å®Ÿæ¸¬å€¤ | ãƒšãƒ¼ã‚¹åŸºæº–å€¤ | è£œæ­£ã‚¹ã‚³ã‚¢ | è©•ä¾¡ï¼‰
- [ ] è£œæ­£ã‚¹ã‚³ã‚¢ãŒã€Œ**X.X%** è©•ä¾¡èªã€å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å„è¡Œã«â˜…è©•ä¾¡ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆã€Œ**ç·åˆãƒ•ã‚©ãƒ¼ãƒ åŠ¹ç‡: â˜…â˜…â˜…â˜…â˜† 4.5/5.0**ã€ï¼‰
- [ ] å„ãƒ•ã‚§ãƒ¼ã‚ºãŒã€Œå®Ÿéš›/è©•ä¾¡/æ”¹å–„ç‚¹ã€ã®3ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã«ãªã‚‹
- [ ] è¦‹å‡ºã—ã«â˜…è©•ä¾¡ãŒå«ã¾ã‚Œã‚‹

### Phase 4å®Œäº†åŸºæº–ï¼ˆAgentå‡ºåŠ›å“è³ªï¼‰

**åŸºæœ¬è¦ä»¶:**
- [ ] Agentå‡ºåŠ›ãŒã‚µãƒ³ãƒ—ãƒ«ã¨åŒç­‰ã®æ–‡ç« å“è³ªï¼ˆå…·ä½“æ€§ã€æœ‰ç›Šæ€§ï¼‰
- [ ] Training typeåˆ¥è©•ä¾¡åŸºæº–ãŒé©åˆ‡ã«é©ç”¨
- [ ] recommendationsæ§‹é€ åŒ–ãŒå¾¹åº•

**ã‚®ãƒ£ãƒƒãƒ—åˆ†æé …ç›®:**
- [ ] å„ã‚¹ãƒ—ãƒªãƒƒãƒˆåˆ†æã«â˜…è©•ä¾¡ã‚³ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã‚‹ï¼ˆã€Œ**è©•ä¾¡**: â˜…â˜…â˜…â˜…â˜† ã‚³ãƒ¡ãƒ³ãƒˆã€ï¼‰
- [ ] Zoneåã«æ—¥æœ¬èªï¼ˆå›å¾©/æœ‰é…¸ç´ /ãƒ†ãƒ³ãƒ/é–¾å€¤/æœ€å¤§ï¼‰ãŒå«ã¾ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´ã™ã‚‹
- [ ] åˆ†æãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç”¨èªè§£èª¬ãŒã‚µãƒ³ãƒ—ãƒ«ã®å®šç¾©ã¨ä¸€è‡´ã™ã‚‹

### Phase 5å®Œäº†åŸºæº–ï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»æœ€çµ‚æ¤œè¨¼ï¼‰

**åŸºæœ¬è¦ä»¶:**
- [ ] ãƒ‡ãƒ¼ã‚¿æ¬ æã‚±ãƒ¼ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãªãè¡¨ç¤º
- [ ] æœªçŸ¥training typeã§é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- [ ] ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆæ™‚é–“ãŒ5ç§’ä»¥å†…
- [ ] å…¨Unit/Integration/Performance testsåˆæ ¼

**å®šé‡çš„ã‚µãƒ³ãƒ—ãƒ«å†ç¾ç‡:**
- [ ] æ§‹é€ ä¸€è‡´åº¦: 95%ä»¥ä¸Šï¼ˆå…¨12ã‚»ã‚¯ã‚·ãƒ§ãƒ³Ã—ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆã®ä¸€è‡´ï¼‰
- [ ] ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸€è‡´åº¦: 90%ä»¥ä¸Šï¼ˆè¡¨ãƒ»ç®‡æ¡æ›¸ããƒ»å¤ªå­—ãƒ»çµµæ–‡å­—ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
- [ ] å†…å®¹å“è³ª: 4.0/5.0ä»¥ä¸Šï¼ˆæ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

**è‡ªå‹•ãƒã‚§ãƒƒã‚¯é …ç›®:**
- [ ] å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦‹å‡ºã—ãŒå­˜åœ¨ã™ã‚‹ï¼ˆ12ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
- [ ] â˜…è©•ä¾¡ãŒ6ç®‡æ‰€ã«å­˜åœ¨ã™ã‚‹ï¼ˆç·åˆ/3ãƒ•ã‚§ãƒ¼ã‚º/ãƒ•ã‚©ãƒ¼ãƒ /ç’°å¢ƒï¼‰
- [ ] æ”¹å–„ãƒã‚¤ãƒ³ãƒˆãŒ---ã§åŒºåˆ‡ã‚‰ã‚Œã¦ã„ã‚‹
- [ ] Workè¡ŒãŒå¤ªå­—ã«ãªã£ã¦ã„ã‚‹ï¼ˆIntervalã®ã¿ï¼‰
- [ ] Mermaidå‡¡ä¾‹ãŒå­˜åœ¨ã™ã‚‹ï¼ˆIntervalã®ã¿ï¼‰

**æ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼é …ç›®:**
- [ ] æ–‡ç« ãŒè‡ªç„¶ã§èª­ã¿ã‚„ã™ã„
- [ ] æ•°å€¤ãŒæ­£ç¢º
- [ ] è©•ä¾¡ãŒå¦¥å½“
- [ ] æ”¹å–„ææ¡ˆãŒå®Ÿè¡Œå¯èƒ½

## æœ€çµ‚ç›®æ¨™

**3ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒãƒ¼ãƒˆã‚’åŸºæº–ã¨ã—ã¦ã€ä»¥ä¸‹ã‚’é”æˆ:**

1. **æ§‹é€ çš„ä¸€è²«æ€§**
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åºãƒ»è¦‹å‡ºã—ãƒ»éšå±¤ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´
   - Training typeåˆ¥ã«é©åˆ‡ãªå†…å®¹ã®è¡¨ç¤º/éè¡¨ç¤º

2. **å†…å®¹ã®å……å®Ÿåº¦**
   - â˜…è©•ä¾¡ãŒå…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å­˜åœ¨
   - ç”Ÿç†å­¦çš„æŒ‡æ¨™ã‚µãƒãƒªãƒ¼ï¼ˆTempo/Intervalã®ã¿ï¼‰
   - æ§‹é€ åŒ–ã•ã‚ŒãŸæ”¹å–„ãƒã‚¤ãƒ³ãƒˆï¼ˆâ­é‡è¦åº¦ä»˜ãï¼‰

3. **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®çµ±ä¸€**
   - è¡¨å½¢å¼ã®è©³ç´°åº¦ãŒã‚µãƒ³ãƒ—ãƒ«ã¨ä¸€è‡´
   - Work/Recoveryã®æ˜ç¢ºãªè¡¨ç¤ºï¼ˆIntervalï¼‰
   - ãƒ¡ã‚¤ãƒ³åŒºé–“é‡è¦–ã®è©•ä¾¡ï¼ˆThresholdï¼‰

4. **æ–‡ç« å“è³ª**
   - ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ã§å…·ä½“çš„
   - å»ºè¨­çš„ã§å®Ÿè¡Œå¯èƒ½ãªææ¡ˆ
   - è‡ªç„¶ãªæ—¥æœ¬èªè¡¨ç¾

**æˆåŠŸæŒ‡æ¨™:**
- ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆã¨ã‚µãƒ³ãƒ—ãƒ«ã®æ§‹é€ ä¸€è‡´åº¦: 95%ä»¥ä¸Š
- â˜…è©•ä¾¡ã®å­˜åœ¨ç‡: 100%ï¼ˆå…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
- æ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã®å“è³ªè©•ä¾¡: 4.0/5.0ä»¥ä¸Š
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯: "ã‚µãƒ³ãƒ—ãƒ«ã¨ã»ã¼åŒã˜" è©•ä¾¡

---

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:**
ã“ã®planning.mdã‚’main branchã«ã‚³ãƒŸãƒƒãƒˆå¾Œã€GitHub Issueã‚’ä½œæˆã—ã€`tdd-implementer` ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãƒãƒ³ãƒ‰ã‚ªãƒ•ã—ã¦Phase 1ã‹ã‚‰å®Ÿè£…é–‹å§‹ã€‚
